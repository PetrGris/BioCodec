
# ИТОГОВАЯ СТРУКТУРА ЭЛЕМЕНТА ПРОТОКОЛА ЗДОРОВЬЯ

Элемент (Item) базовый кирпичик протокола здоровья.
---

## **1. ЗАДАНИЕ ДЛЯ ИИ**  
**Цель:**  
Преобразовать название элемента (напр., «Берберин 500 мг») в структурированный JSON-объект с научно обоснованными данными.  

**Этапы:**  
1. **Перевод запроса** на английский (напр., «quercetin post-viral fatigue»).  
2. **Научный поиск** в PubMed/Cochrane по ключевым фразам:  
   - `[название] mechanism of action`  
   - `[название] randomized controlled trial`  
3. **Извлечение данных:**  
   - Механизм действия → Клинические эффекты → Протокол → Риски → Доказательства.  
4. **Верификация:** Проверка DOI/PMID, устранение противоречий.  

---

## **2. JSON-СТРУКТУРА С КОММЕНТАРИЯМИ**  
```json
{
  "item": {                  /* Основной объект элемента
    "name": "string",       // ОБЯЗАТЕЛЬНО. Пример: "Берберин (гидрохлорид 500 мг)"
    "type": "string",       // ОБЯЗАТЕЛЬНО. Тип: pharma|nutraceutical|physical|cognitive|environmental|tech|behavioral|recovery
    "desc": "string",       // ОБЯЗАТЕЛЬНО. Механизм → Эффект. Пример: "Ингибирование SGLT2 → Снижение глюкозы"
    "goals": ["string"],    // ОБЯЗАТЕЛЬНО. Пример: ["Снижение HbA1c на 0.8%"]
    "mechanism": "string",   // ОБЯЗАТЕЛЬНО. Пример: "Блокада NMDA-рецепторов → Регуляция кальция"
    "usage": { // ОБЯЗАТЕЛЬНО. Протокол применения
      "dose": "string",       // Пример: "500 мг/сут"
      "method": "string",      // Опционально. Пример: "сублингвально"
      "freq": "string",       // Опционально. Пример: "3 раза/день"
      "schedule": ["string"], // Опционально. Пример: ["утром натощак"]
      "duration": "string",      // Опционально. Пример: "8 недель"
      "stop_if": "string"       // Опционально. Пример: "HbA1c <5.7%"
    },
    "complexity": "string",       // ОБЯЗАТЕЛЬНО. low|medium|high
    "efficacy": "number",       // ОБЯЗАТЕЛЬНО. 1-10 (формула: (1/NNT*10)+(Cohen’s d*2))
    "evidence": {       // ОБЯЗАТЕЛЬНО. 
      "level": "string",       // A|B|C|D
      "studies": ["string"]       // Пример: ["DOI:10.1136/bmj.n165"]
    },
    "risks": {                // Опционально
      "common": ["string"],    // Пример: ["тошнота"]
      "critical": ["string"]    // Пример: ["аритмия"]
    },
    "tags": ["string"]          // Опционально. Пример: ["метаболизм_глюкозы"]
  }
}
```



# 3. ИНСТРУКЦИЯ ПО ЗАПОЛНЕНИЮ

## Обязательные поля

### 1. `name` 
- **Описание**: Уникальное название элемента.
- **Формат**:  
  `[Название] [форма/доза/особенность]`
- **Пример**:  
  `"Магний глицинат (400 мг с витамином B6)"`
- **Важно**:  
   Нельзя: "Витамин D"  
   Нужно: "Витамин D3 (холекальциферол 5000 МЕ)"
---

### 2. `type` 
- **Допустимые значения**:
  ```text
  pharma          — Лекарственные препараты (метформин)
  nutraceutical   — БАДы/нутрицевтики (куркумин)
  physical        — Физические практики (йога)
  cognitive       — Когнитивные тренировки (медитация)
  environmental   — Факторы среды (светотерапия)
  tech            — Устройства (CGM-сенсоры)
  behavioral      — Поведенческие паттерны (гидратация)
  recovery        — Регенеративные методики (массаж)
  ```

---

### 3. `desc` 
- **Описание**: Краткое объяснение механизма и эффекта.
- **Формат**:  
  `[Механизм] → [Клинический результат]`
- **Пример**:  
  `"Ингибирование MAO-B → Повышение дофамина → Улучшение когнитивных функций"`

---

### 4. `goals` 
- **Описание**: Измеримые цели применения.
- **Формат**:  
  Массив строк с количественными показателями.
- **Пример**:  
  ```json
  "goals": [
    "Снижение уровня кортизола на 25%", 
    "Увеличение времени глубокого сна на 40 мин"
  ]
  ```

---

### 5. `mechanism` 
- **Описание**: Детальный биохимический/физиологический путь.
- **Формат**:  
  `[Молекулярная мишень] → [Действие] → [Результат]`
- **Пример**:  
  `"Блокада TRPV1-рецепторов → Снижение болевой чувствительности → Купирование невропатической боли"`

---

### 6. `usage` 
- **Описание**: Протокол применения. **Все подполя обязательны**, кроме `method`, `schedule`, `stop_if`.

#### Подполя:
| Поле              | Описание                          | Пример                     |
|--------------------|-----------------------------------|----------------------------|
| **`dose`**         | Дозировка/интенсивность           | `"500 мг/сут"`             |
| **`method`**       | Способ применения (опционально)   | `"сублингвально"`          |
| **`freq`**         | Частота (опционально)             | `"3 раза/день"`            |
| **`schedule`**     | Время/условия (массив, опционально)| `["утром натощак"]`        |
| **`duration`**     | Длительность курса                | `"8 недель"`               |
| **`stop_if`**      | Условия отмены (опционально)      | `"HbA1c <5.7%"`            |

---

### 7. `complexity` 
- **Критерии**:  
  - `low` — Самостоятельное применение (витамины).  
  - `medium` — Самоконтроль (дневник питания + глюкометр).  
  - `high` — Медицинский надзор (анализы крови, стационар).  

---

### 8. `efficacy` 
- **Формула**:  
  ```text
  Efficacy = (1 / NNT * 10) + (Cohen’s d * 2) + (Длительность эффекта в месяцах * 0.1)
  ```
- **Пример расчета**:  
  Для NNT=5, Cohen’s d=0.8, длительность=3 мес:  
  `(1/5*10) + (0.8*2) + (3*0.1) = 2 + 1.6 + 0.3 = 3.9 → 3.9`

---

### 9. `evidence` 
- **Правила**:  
  - **`level`**:  
    - `A` — ≥3 РКИ с выборкой >100 + мета-анализ.  
    - `B` — 1 РКИ + 2 когортных исследования.  
    - `C` — Наблюдательные данные.  
    - `D` — Доклинические исследования/гипотезы.  
  - **`studies`**:  
    - Минимум 2 источника (DOI + PMID).  
    - Пример: `["DOI:10.1136/bmj.n165", "PMID:32563274"]`.

---

## Опциональные поля

### 10. `risks` 
- **Правила**:  
  - **`common`**: Побочные эффекты с частотой >5%.  
  - **`critical`**: Угрожающие жизни состояния.  
- **Пример**:  
  ```json
  "risks": {
    "common": ["головокружение", "сухость во рту"],
    "critical": ["гипогликемическая кома"]
  }
  ```

---

### 11. `tags` 
- **Генерация**:  
  1. Выделить ключевые термины из разделов исследований "Results" и "Conclusion".  
  2. Использовать TF-IDF для автоматической выборки.  
- **Пример**:  
  `["нейропластичность", "митохондриальный_стресс"]`

---

## Проверка данных
1. **Валидация ссылок**:  
   - Проверить DOI через [Crossref](https://doi.crossref.org).  
   - Убедиться, что PMID существует в PubMed.  
2. **Контроль логики**:  
   - Механизм должен объяснять цели (`goals`).  
   - Для `complexity="high"` обязательно указать `risks.critical`.  
3. **Теги**:  
   - Удалить общие термины (например, "здоровье", "эффект").

---


## **4. ПРИМЕРЫ**  

### **Пример 1: Нутрицевтик**  
```json
{
  "item": {
    "name": "Куркумин (мицеллярная форма 500 мг)",
    "type": "nutraceutical",
    "desc": "Ингибирование NF-κB → Снижение воспаления",
    "goals": ["Снижение CRP на 1.2 мг/л"],
    "mechanism": "Блокада сигнального пути IKK → Подавление провоспалительных цитокинов",
    "usage": {
      "dose": "500 мг/сут",
      "method": "с жирной пищей",
      "freq": "2 раза/день",
      "duration": "6 недель"
    },
    "complexity": "low",
    "efficacy": 7.5,
    "evidence": {
      "level": "A",
      "studies": ["DOI:10.1136/bmj.n165"]
    },
    "tags": ["антиоксидант", "нейровоспаление"]
  }
}
```

### **Пример 2: Поведенческая практика**  
```json
{
  "item": {
    "name": "Интервальное голодание 16/8",
    "type": "behavioral",
    "desc": "Активация аутофагии через депривацию глюкозы",
    "goals": ["Снижение инсулинорезистентности на 18%"],
    "mechanism": "Снижение mTOR-активности → Запуск лизосомального расщепления",
    "usage": {
      "schedule": ["ежедневно 12:00-20:00"],
      "stop_if": "Глюкоза натощак <4.5 ммоль/л"
    },
    "complexity": "medium",
    "efficacy": 8.2,
    "evidence": {
      "level": "B",
      "studies": ["PMID: 31517876"]
    }
  }
}
```

---

## **5. НАЗНАЧЕНИЕ И РАЗВИТИЕ СТРУКТУРЫ**  

### **Для чего нужен элемент?**  
- Унификация данных для алгоритмов подбора персонализированных протоколов.  
- Автоматизация анализа синергии/конфликтов между элементами.  
- База для генерации рекомендаций
- Инструкция будет использоваться для автоматического поиска и заполнения полей элементов протокола.
